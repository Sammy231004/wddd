<!DOCTYPE html>
<html lang="en">
<head>
  
  <script type="module" src="3dViwer.js" ></script>
  <script type="module" src="materialFunctions.js" ></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3D Viewer</title>
  
  <link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body>
  <form id="uploadForm">
    <label for="modelFile">–í—ã–±–µ—Ä–∏—Ç–µ 3D-–º–æ–¥–µ–ª—å:</label>
    <input type="file" id="modelFile" name="modelFile" accept=".obj, .fbx, .gltf, .glb" required>
    <br>
    <br>
    <button type="submit">–ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å</button>
  </form>

  <div id="settings-panel">
    <div id="settings-icons" class="settings-icons">
      <div class="settings-icon" onclick="toggleSettings('light-settings')">üåû</div>
      <div class="settings-icon" onclick="toggleSettings('material-settings')">üé®</div>
      <div class="settings-icon" onclick="toggleSettings('background-settings')">üñºÔ∏è</div>
    </div>

    <!-- Background Settings -->
    <div id="background-settings" class="settings-content background-settings">
        <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–æ–Ω–∞ –∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è</h2>

        <!-- –í—ã–±–æ—Ä —Ü–≤–µ—Ç–∞ —Ñ–æ–Ω–∞ -->
        <label for="selectBackgroundColor">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç —Ñ–æ–Ω–∞:</label>
        <input type="color" id="selectBackgroundColor">

        <!-- –í—ã–±–æ—Ä —Ç–µ–∫—Å—Ç—É—Ä—ã –æ–∫—Ä—É–∂–µ–Ω–∏—è -->
        <label for="selectEnvironment">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–∫—Å—Ç—É—Ä—É –æ–∫—Ä—É–∂–µ–Ω–∏—è:</label>
        <select id="selectEnvironment">
            <option value="1.">–¢–µ–∫—Å—Ç—É—Ä–∞ 1</option>
            <option value="texture2.jpg">–¢–µ–∫—Å—Ç—É—Ä–∞ 2</option>
            <!-- –î—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ç–µ–∫—Å—Ç—É—Ä -->
        </select>

        <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –≤—ã–∫–ª—é—á–µ–Ω–∏—è —Ñ–æ–Ω–∞ -->
        <button id="disableBackground">–í—ã–∫–ª—é—á–∏—Ç—å —Ñ–æ–Ω</button>
    </div>
<!-- Scene Settings -->
<div id="scene-settings" class="settings-content scene-settings">
  <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ü–µ–Ω—ã –∏ –º–æ–¥–µ–ª–∏</h2>
  <label for="modelPosition">–ü–æ–ª–æ–∂–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏:</label>
  <input type="text" id="modelPosition" placeholder="X Y Z" readonly>
  <br>
  <!-- –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç—Ä–µ–ª–æ—á–∫–∏ –¥–ª—è –ø–æ–≤–æ—Ä–æ—Ç–∞ –º–æ–¥–µ–ª–∏ -->
  <label for="rotateModel">–ü–æ–≤–æ—Ä–æ—Ç –º–æ–¥–µ–ª–∏:</label>
  <button onclick="rotateModel('x', 90)">X+</button>
  <button onclick="rotateModel('x', -90)">X-</button>
  <button onclick="rotateModel('y', 90)">Y+</button>
  <button onclick="rotateModel('y', -90)">Y-</button>
  <button onclick="rotateModel('z', 90)">Z+</button>
  <button onclick="rotateModel('z', -90)">Z-</button>
  <br>
  <label for="sceneBackground">–¶–≤–µ—Ç —Ñ–æ–Ω–∞:</label>
  <input type="color" id="sceneBackground" value="#ffffff">
</div>
    <!-- Light Settings -->
    <div id="light-settings" class="settings-content light-settings active">
      <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–≤–µ—Ç–∞</h2>
      <label for="lightIntensity">–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —Å–≤–µ—Ç–∞:</label>
      <input type="range" id="lightIntensity" min="0" max="1" step="0.1" value="1" oninput="updateLightIntensity(this.value)">
      <br>
      <label for="lightDirection">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ç–∞:</label>
      <button id="addLightButton">–î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ —Å–≤–µ—Ç–∞</button>
      <input type="text" id="lightDirection" placeholder="X Y Z" readonly>
      <br>
      <button id="toggleBackgroundButton">–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ñ–æ–Ω</button>
      <br>
      <label for="lightPosition">–ü–æ–ª–æ–∂–µ–Ω–∏–µ —Å–≤–µ—Ç–∞:</label>
      <input type="text" id="lightPosition" placeholder="X Y Z" readonly>
      
      
    </div>
    
    <!-- Material Settings -->
    <div id="material-settings" class="settings-content material-settings">

      <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞</h2>
      <input type="checkbox" id="wireframeCheckbox" onchange="toggleWireframe()" />
<label for="wireframeCheckbox">Wireframe</label>
      <label for="modelParts">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Å—Ç—å –º–æ–¥–µ–ª–∏:</label>
<select id="partsDropdown"></select>
      <label for="baseColor">–¶–≤–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–∞:</label>
      <input type="color" id="baseColor" value="#ffffff">
      <br>
      <label for="baseColorMap">–ö–∞—Ä—Ç–∞ —Ü–≤–µ—Ç–∞:</label>
      <input type="file" id="baseColorMap" value="" />
      <br>
      <label for="baseColorIntensity">–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —Ü–≤–µ—Ç–∞:</label>
      <input type="range" id="baseColorIntensity" min="0" max="1" step="0.1" value="1">
      <br>
      <label for="metalnessMap">–ö–∞—Ä—Ç–∞ –º–µ—Ç–∞–ª–ª–∏—á–Ω–æ—Å—Ç–∏:</label>
      <input type="file" id="metalnessMap" name="metalnessMap" accept=".jpg, .jpeg, .png">
      <br>
      <label for="metalnessIntensity">–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –º–µ—Ç–∞–ª–ª–∏—á–Ω–æ—Å—Ç–∏:</label>
      <input type="range" id="metalnessIntensity" min="0" max="1" step="0.1" value="1">
      <br>
      <label for="roughnessMap">–ö–∞—Ä—Ç–∞ —à–µ—Ä–æ—Ö–æ–≤–∞—Ç–æ—Å—Ç–∏:</label>
      <input type="file" id="roughnessMap" name="roughnessMap" accept=".jpg, .jpeg, .png">
      <br>
    
      <label for="roughnessIntensity">–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —à–µ—Ä–æ—Ö–æ–≤–∞—Ç–æ—Å—Ç–∏:</label>
      <input type="range" id="roughnessIntensity" min="0" max="1" step="0.1" value="1">
      <label for="specularMap">–¢–µ–∫—Å—Ç—É—Ä–∞ –±–ª–∏–∫–æ–≤:</label>
<input type="file" id="specularMap">
      <label for="specularIntensity">–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –±–ª–∏–∫–æ–≤:</label>
    <input type="range" id="specularIntensity" min="0" max="1" step="0.1" value="0">
    <br>
    <label for="reflectionIntensity">–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–µ–ª–æ–º–ª–µ–Ω–∏—è:</label>
    <input type="range" id="reflectionIntensity" min="0" max="1" step="0.1" value="0">
    <label for="opacity">–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å:</label>
    <label for="opacityMap">–¢–µ–∫—Å—Ç—É—Ä–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏:</label>
<input type="file" id="opacityMap">
    <input type="range" id="opacity" min="0" max="1" step="0.1" value="1" />
    <label for="ambientOcclusionMap">–¢–µ–∫—Å—Ç—É—Ä–∞ –∑–∞—Ç–µ–Ω–µ–Ω–∏—è:</label>
<input type="file" id="ambientOcclusionMap">
    <label for="occlusionIntensity">–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –∑–∞—Ç–µ–Ω–µ–Ω–∏—è:</label>
  <input type="range" id="occlusionIntensity" min="0" max="1" step="0.1" value="0">
  <br>
  <label for="emissionMap">–¢–µ–∫—Å—Ç—É—Ä–∞ —Å–≤–µ—á–µ–Ω–∏—è:</label>
<input type="file" id="emissionMap">
  <label for="emissionIntensity">–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —Å–≤–µ—á–µ–Ω–∏—è:</label>
  
  <input type="range" id="emissionIntensity" min="0" max="1" step="0.1" value="0">
  <label>–ö–∞—Ä—Ç–∞ –Ω–æ—Ä–º–∞–ª–µ–π:</label>
  <input type="file" id="normalMapInput"> 

 
</div>
  
  </div>
  </div>

  <div id="viewer-container"></div>

  <script>

    
    
    const settingsIcons = document.getElementById('settings-icons');
    const lightSettings = document.getElementById('light-settings');
    const materialSettings = document.getElementById('material-settings');

    function toggleSettings(activeSettings) {
        lightSettings.classList.remove('active');
        materialSettings.classList.remove('active');

        if (activeSettings === 'light-settings') {
            lightSettings.classList.add('active');
        } else if (activeSettings === 'material-settings') {
            materialSettings.classList.add('active');
        }
    }

    function updateLightIntensity(value) {
        document.getElementById('lightIntensity').value = value;
    }

    function updateLightDirection(value) {
        document.getElementById('lightDirection').value = value;
    }

    function updateLightPosition(value) {
        document.getElementById('lightPosition').value = value;
    }

  
  </script>
</body>
</html>
